{
    "glados": {
        "build": "make",
        "tests": [
            {
                "Accessibility": [
                    {
                        "name": "Help",
                        "command": "./glados --help",
                        "output": "*",
                        "return": 0
                    },
                    {
                        "name": "AST Flag",
                        "command": "./glados --ast examples/div_call.lisp",
                        "output": "*",
                        "return": 0
                    }
                ]
                "Parsing": [
                    {
                        "name": "Simple call S-Expressions",
                        "command": "./glados --ast examples/div_call.lisp",
                        "grep": "SList [SAtom (ASymbol \"div\") (Just (SourcePos {spLine = 1, spCol = 2})),SAtom (AInteger 10) (Just (SourcePos {spLine = 1, spCol = 6})),SAtom (AInteger 2) (Just (SourcePos {spLine = 1, spCol = 9}))] (Just (SourcePos {spLine = 1, spCol = 1}))",
                        "return": 0
                    },
                    {
                        "name": "Simple call AST",
                        "command": "./glados --ast examples/div_call.lisp",
                        "grep": "EApp (EVar \"div\") [EInt 10,EInt 2]",
                        "return": 0
                    },
                    {
                        "name": "Missing closing parenthesis",
                        "command": "./glados examples/missing_closing_parenthesis.lisp",
                        "grep": "ParseError",
                        "return": 84
                    },
                    {
                        "name": "Missing closing quote",
                        "command": "./glados examples/missing_closing_quote.lisp",
                        "grep": "ParseError",
                        "return": 84
                    },
                    {
                        "name": "Missing opening parenthesis",
                        "command": "./glados examples/missing_closing_quote.lisp",
                        "grep": "ParseError",
                        "return": 84
                    },
                    {
                        "name": "String escaping",
                        "command": "./glados examples/string_escape.lisp",
                        "grep": "ParseError",
                        "return": 84
                    }
                ]
                "Error-Handling": [
                    {
                        "name": "Bad argument server",
                        "command": "./glados not_working",
                        "output": "*",
                        "return": 84
                    },
                    {
                        "name": "Not bound variable",
                        "command": "./glados examples/not_bound_variable.lisp",
                        "output": "*** ERROR : variable foo is not bound.\n",
                        "return": 84
                    },
                    {
                        "name": "Not bound variable",
                        "command": "./glados examples/not_bound_variable.lisp",
                        "output": "*** ERROR : variable foo is not bound.\n",
                        "return": 84
                    },
                    {
                        "name": "Missing if branch",
                        "command": "./glados examples/missing_if_branch.lisp",
                        "grep": "Compilation error",
                        "return": 84
                    },
                    {
                        "name": "Empty define",
                        "command": "./glados examples/empty_define.lisp",
                        "grep": "Compilation error",
                        "return": 84
                    },
                    {
                        "name": "Empty definition",
                        "command": "./glados examples/empty_definition.lisp",
                        "grep": "Compilation error",
                        "return": 84
                    },
                    {
                        "name": "Invalid eq",
                        "command": "./glados examples/invalid_eq.lisp",
                        "grep": "Compilation error",
                        "return": 84
                    }
                ]
                "Functional-Tests": [
                    {
                        "name": "Hello world",
                        "command": "./glados examples/hello.lisp",
                        "output": "Hello, world!\n",
                        "return": 0
                    },
                    {
                        "name": "Add",
                        "command": "./glados examples/hello.lisp",
                        "output": "7\n",
                        "return": 0
                    },
                    {
                        "name": "Add",
                        "command": "./glados examples/hello.lisp",
                        "output": "7\n",
                        "return": 0
                    },
                    {
                        "name": "Define constant number",
                        "command": "./glados examples/simple_operation_define_number.lisp",
                        "output": "42\n",
                        "return": 0
                    },
                    {
                        "name": "Define constant number",
                        "command": "./glados examples/simple_operation_define_number.lisp",
                        "output": "42\n",
                        "return": 0
                    },
                    {
                        "name": "Print number",
                        "command": "./glados examples/print_number.lisp",
                        "output": "x = 123\n",
                        "return": 0
                    },
                    {
                        "name": "Factorial 5",
                        "command": "./glados examples/factorial_5.lisp",
                        "output": "120\n",
                        "return": 0
                    },
                    {
                        "name": "Factorial 10",
                        "command": "./glados examples/factorial_10.lisp",
                        "output": "3628800\n",
                        "return": 0
                    },
                    {
                        "name": "Factorial 100",
                        "command": "./glados examples/factorial_100.lisp",
                        "output": "93326215443944152681699238856266700490715968264381621468592963895217599993229915608941463976156518286253697920827223758251185210916864000000000000000000000000\n",
                        "return": 0
                    },
                    {
                        "name": "Simple div call",
                        "command": "./glados examples/div_call.lisp",
                        "output": "5\n",
                        "return": 0
                    },
                    {
                        "name": "Lambda 1",
                        "command": "./glados < examples/lambda1.lisp",
                        "output": "#\<procedure\>\n",
                        "return": 0
                    },
                    {
                        "name": "Lambda 2",
                        "command": "./glados < examples/lambda2.lisp",
                        "output": "3\n",
                        "return": 0
                    },
                    {
                        "name": "Lambda 3",
                        "command": "./glados < examples/lambda3.lisp",
                        "output": "7\n",
                        "return": 0
                    },
                    {
                        "name": "If 1",
                        "command": "./glados < examples/if1.lisp",
                        "output": "1\n",
                        "return": 0
                    },
                    {
                        "name": "If 2",
                        "command": "./glados < examples/if2.lisp",
                        "output": "2\n",
                        "return": 0
                    },
                    {
                        "name": "If 3",
                        "command": "./glados < examples/if3.lisp",
                        "output": "21\n",
                        "return": 0
                    },
                    {
                        "name": "Builtins 1",
                        "command": "./glados < examples/builtins1.lisp",
                        "output": "11\n",
                        "return": 0
                    },
                    {
                        "name": "Builtins 2",
                        "command": "./glados < examples/builtins2.lisp",
                        "output": "#t\n",
                        "return": 0
                    },
                    {
                        "name": "Builtins 3",
                        "command": "./glados < examples/builtins3.lisp",
                        "output": "#f\n",
                        "return": 0
                    },
                    {
                        "name": "Superior",
                        "command": "./glados < examples/superior.lisp",
                        "output": "#t\n",
                        "return": 0
                    },
                    {
                        "name": "Print float",
                        "command": "./glados < examples/print_float.lisp",
                        "output": "x = 1.2\n",
                        "return": 0
                    }
                ]
            }
        ]
    }
}
