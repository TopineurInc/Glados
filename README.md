# Topineur Compiler (GLaDOS)

GLaDOS has transitioned from a Lisp experiment into the official compiler toolchain for **Topineur**, an object-functional contractual language that blends Hindley-Milner typing, explicit effects, and linear ownership.

## Whatâ€™s Included
- **Frontend pipeline**: lexer â†’ parser â†’ type inference â†’ effect & linearity analysis â†’ desugaring scaffold.
- **Command-line tooling**: `glados pipeline <file.top>` to inspect compilation stages, `glados check <file.top>` for fast verification.
- **Documentation set**: philosophy, grammar, compilation roadmap, and security review under `docs/topineur/`.
- **VS Code extension**: syntax highlighting and snippets in `vscode/topineur/`.
- **Examples**: runnable `.top` programs in `examples/topineur/`.

## Quick Start
```bash
# Build the project
make

# Inspect the pipeline for a Topineur file
./glados pipeline examples/topineur/hello_world.top

# Type-check a module (non-zero exit code on failure)
./glados check examples/topineur/factorial_recursive.top
```

## Project Layout
```
.
â”œâ”€â”€ app/                 -- CLI entrypoint focused on Topineur
â”œâ”€â”€ docs/topineur/       -- Language reference, grammar, compilation plan
â”œâ”€â”€ examples/topineur/   -- Sample Topineur programs
â”œâ”€â”€ src/                 -- Frontend passes (lexer, parser, type/effect/linearity, desugaring)
â”œâ”€â”€ vscode/topineur/     -- VS Code extension
â””â”€â”€ Makefile             -- Convenience wrapper around stack
```

Core modules:
- `src/TopineurLexer.hs`, `src/TopineurParser.hs` â€” surface syntax.
- `src/TypeChecker.hs`, `src/EffectChecker.hs`, `src/LinearityChecker.hs` â€” verification passes.
- `src/TopineurPipeline.hs` â€” orchestrates the frontend.
- `src/Desugar.hs`, `src/ObjectDesugar.hs`, `src/TraitResolver.hs` â€” desugaring scaffolding for upcoming backend integration.

## Status & Next Steps
- âœ… Frontend passes complete and exposed through the CLI.
- ðŸš§ Backend lowering, code generation, and VM integration are being redesigned around the Topineur core IR (`docs/topineur/core_ir.rst`).
- ðŸ”¬ Automated tests will return once the new backend stabilises.

## License
Released under the MIT License (see `LICENSE`).
